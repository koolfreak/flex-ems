<?xml version="1.0" encoding="utf-8"?>
<mx:VBox xmlns:mx="http://www.adobe.com/2006/mxml" width="100%" height="100%" 
	horizontalAlign="center"
	xmlns:screens="com.exist.ems.view.screens.main.*">
	
	<mx:Metadata>
		[Event(name="logout", type="com.exist.ems.control.events.login.LogOutEvent")]
	</mx:Metadata>
	
	<mx:Script>
		<![CDATA[
			import com.exist.ems.control.events.login.LogOutEvent;
			import com.exist.ems.model.UserModelLocator;
			import mx.events.ItemClickEvent;    
            
            [Bindable]
            private var userLocator:UserModelLocator = UserModelLocator.getInstance();
            // Event handler function to print a message
            // describing the selected Button control.        
            private function clickHandler(event:ItemClickEvent):void {
                maincontent.selectedIndex = event.index;
            }
			
			private function exit():void
			{
				//userLocator.modelWorkflowState = UserModelLocator.LOGIN_SCREEN;
				var logoutEventObj:LogOutEvent = new LogOutEvent("logout",0);
				dispatchEvent(logoutEventObj);
			}
		]]>
	</mx:Script>
	
	<mx:ApplicationControlBar id="viewHeader" dock="true" >        
    	<mx:ToggleButtonBar color="0x323232" horizontalGap="5" itemClick="clickHandler(event);">
            <mx:dataProvider>
                <mx:Array>
                    <mx:String>My TimeCard</mx:String>
                    <mx:String>My Records</mx:String>
                    <mx:String>My Reports</mx:String>
                </mx:Array>
            </mx:dataProvider>
        </mx:ToggleButtonBar>
	</mx:ApplicationControlBar>
	
	<mx:HBox>
		<mx:Canvas width="129" height="518" horizontalCenter="center" >
			<mx:Button x="35" y="403" label="Exit" 
				labelPlacement="bottom" width="89" height="87"
				click="exit();" />
		</mx:Canvas>
		<mx:ViewStack id="maincontent" width="800" height="500">
			<screens:TimeManagement id="timeEntry" label="MyTimeCard" width="100%" height="100%"/>
			<screens:EmployeeRecords id="myRecords" label="MyRecord" width="100%" height="100%"/>
			<screens:Reports id="myReports" label="MyReports" width="100%" height="100%"/>
		</mx:ViewStack>
	</mx:HBox>
	
</mx:VBox>
